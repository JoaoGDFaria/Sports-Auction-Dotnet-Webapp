@page "/login"
@rendermode InteractiveServer

@using DataLibrary

<PageTitle>Login</PageTitle>

<div id="login" class="d-flex align-items-center justify-content-center vh-80">
    <div class="card bg-dark text-white aux">
        <div class="card-body p-5 text-center aux">
            <div class="mb-md-5 mt-md-4 pb-5">
                <img class="mb-4" src="./images/logo.png" alt="" width="100">
                <h2 class="fw-bold mb-2 text-uppercase">LOG IN</h2>
                <div class="form-outline form-white mb-4">
                    <label class="form-label" for="typeEmailX">EMAIL</label>
                    <input type="email" id="typeEmailX" class="form-control form-control-lg input" @bind="Email"/>
                </div>
                <div class="form-outline form-white mb-4">
                    <label class="form-label" for="typePasswordX">PASSWORD</label>
                    <input type="password" id="typePasswordX" class="form-control form-control-lg input" @bind="Password"/>
                </div>

                <div class="hyperlink">
                    <p class="mb-0">Don't have an account? <a href="@("/signup")" class="text-white-50 fw-bold click">Sign Up</a>!</p>
                    <br />
                </div>
                <div class="button d-flex justify-content-between buttons">
                    <button type="button" class="btn btn-danger">EXIT</button>
                    <button type="button" class="btn btn-success" @onclick="SubmitForm">SUBMIT</button>
                </div>
            </div>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous"></script>
<link rel="stylesheet" href="css/login.css">

@code {

    private string Email {get; set;} = string.Empty;
    private string Password {get; set;} = string.Empty;

    private void SubmitForm(){

        Console.WriteLine("Email: " + Email);
        Console.WriteLine("Password: " + Password);

    

    SqlDataAccess sqlDataAccess = new SqlDataAccess();
    string clientName = sqlDataAccess.GetClient("SELECT PrimeiroNome FROM Utilizador WHERE NIB = 584720193218","Server=DESKTOP-71FROVH;Port=1433;database=MatchWornItems;UserID=tumab");
    try
    {
        if (clientName != null)
        {
            Console.WriteLine("Client Name: " + clientName);
        }
        else
        {
            Console.WriteLine("Client not found for ID: " + 584720193218);
        }
    }
    catch (Exception ex)
    {
        Console.WriteLine("Error: " + ex.Message);
    }


    }
}
