@using DataLibrary
@using BlazorApp1.Components
@using Microsoft.Extensions.Configuration
@inject IConfiguration _config
@inject ISqlDataAccess _data


@code {

    public async Task<bool> GetLoginStatus(string email, string password)
    {

        string sql = "SELECT PalavraPasse FROM Utilizador WHERE Email = @email";

        var parameters = new { email };

        string connectionString = _config.GetConnectionString("DefaultConnection") ?? string.Empty;
        string real_password = "";

        if (connectionString != null)
        {
            real_password = await _data.ExecuteScalarAsync<string>(sql, parameters, connectionString);
        }

        Console.WriteLine(real_password);
        return (real_password!="" && real_password.Equals(password));

    }
}